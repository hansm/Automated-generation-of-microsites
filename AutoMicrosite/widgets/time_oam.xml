<?xml version="1.0" encoding="UTF-8"?>
<widget name="Time" id="http://maesalu.com/widgetSamples/Time"
		width="100" height="50" jsClass="Time"
		xmlns="http://openajax.org/metadata">
	<library name="jQuery" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/" version="1.7.1">
		<require type="javascript" src="jquery.min.js"/>
	</library>
	<require type="javascript"><![CDATA[
	Time = function() {};
	Time.prototype.onLoad = function() {
		var thisWidget = this;

		$("#__WID__button").click(function(e) {
			e.preventDefault();
			thisWidget.OpenAjax.hub.publish("Sample.Time"
				, parseInt(new Date().getTime() / 1000));
		});

		this.OpenAjax.hub.subscribe("Sample.Hello", function(topic, data) {
			console.log(data);
		});
	};
	]]></require>
    <content>
		<![CDATA[
		<button id="__WID__button">Publish time</button>
		]]>
    </content>
	<topic name="Sample.Time" type="number" publish="true" />
</widget>
